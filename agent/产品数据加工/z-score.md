非常好，这里我**严格按你的要求**来：
**不做 winsorize，只讲清楚 4 类 z-score 的整体设计原理，并把 16 个一级策略映射成一张“可直接用的表格”。**

你可以把这张表 **直接变成代码里的 dict / YAML / CSV 配置文件**。

---

# 一、整体设计原理（一句话总纲）

> **z-score 的作用不是“算收益”，而是：
> 在“同一策略内部”，判断一只产品在“收益–风险权衡”上是否显著优于同类。**

因此有 3 个关键约束：

1. **只做策略内 z-score（横向可比）**
2. **不同策略族，对“好”的定义不同 → 权重不同**
3. **极端风险不是靠 z-score 解决，而是靠“闸门过滤”解决**

---

# 二、统一的数学形式（你代码里只需要这一种）

对任意一级策略 ( s )，在其产品集合内计算：

* ( z_{ret} )：收益 z-score（return）
* ( z_{sha} )：夏普 z-score（sharpe）
* ( z_{vol} )：波动 z-score（volatility，越大越差）
* ( z_{dd} )：回撤 z-score（drawdown，越大越差）

统一形式：

[
\text{Score}_s
==============

w_{ret} \cdot z_{ret}
+
w_{sha} \cdot z_{sha}
---------------------

## w_{vol} \cdot z_{vol}

w_{dd} \cdot z_{dd}
]

**注意**：

* “减号”不是技巧，是**金融语义**：波动和回撤是成本
* 不同策略族，只是权重 ( w ) 不同

---

# 三、4 个“策略族”的设计原理（先理解，再看表）

## A 类：权益进攻（Equity Attack）

**使命**：拉长期收益，可承受波动
**适用**：股票宽基 / 行业 / 主题 / 风格

* 收益、夏普：主角
* 波动、回撤：约束（防失控，不追求极低）

## B 类：平衡增强 / 固收+

**使命**：稳中求进
**适用**：固收+、偏债混合、转债偏稳

* 夏普、回撤：核心
* 收益：加分项
* 波动：约束

## C 类：纯防守（Pure Defensive）

**使命**：不亏钱、不大波动
**适用**：纯债、短债、现金管理

* 夏普、回撤：几乎决定一切
* 收益：参考项

## D 类：分散 / 另类（Diversifier）

**使命**：降低组合相关性 + 阶段性收益
**适用**：商品、CTA、对冲、另类策略

* 收益 & 夏普：都要
* 回撤 & 波动：必须可控（否则是赌方向）

---

# 四、16 个一级策略 × 4 类 z-score 设计表（核心表）

> **这张表就是你整个系统的“配置中枢”**

| 一级策略（示例）       | 策略族    | z-score 权重（return / sharpe / vol / dd） | 设计含义          |
| -------------- | ------ | -------------------------------------- | ------------- |
| 股票宽基           | A 权益进攻 | 0.35 / 0.35 / 0.15 / 0.15              | 拉收益为主，风险作约束   |
| 股票风格（价值/成长/红利） | A 权益进攻 | 0.35 / 0.35 / 0.15 / 0.15              | 同上            |
| 股票行业           | A 权益进攻 | 0.40 / 0.30 / 0.15 / 0.15              | 行业更强调收益       |
| 股票主题           | A 权益进攻 | 0.40 / 0.30 / 0.15 / 0.15              | 允许更高波动        |
| 股票量化多因子        | A 权益进攻 | 0.30 / 0.40 / 0.15 / 0.15              | 更看重风险调整后      |
| 偏股混合           | A/B 过渡 | 0.30 / 0.35 / 0.20 / 0.15              | 收益与稳健并重       |
| 固收+（低权益）       | B 平衡增强 | 0.20 / 0.40 / 0.15 / 0.25              | 回撤控制更重要       |
| 固收+（含转债）       | B 平衡增强 | 0.25 / 0.35 / 0.15 / 0.25              | 转债允许一定波动      |
| 平衡型FOF         | B 平衡增强 | 0.20 / 0.40 / 0.20 / 0.20              | 稳定性优先         |
| 纯债（中长债）        | C 纯防守  | 0.10 / 0.45 / 0.15 / 0.30              | 防回撤是底线        |
| 短债 / 中短债       | C 纯防守  | 0.10 / 0.45 / 0.20 / 0.25              | 更强调低波动        |
| 货币 / 现金管理      | C 纯防守  | 0.05 / 0.50 / 0.20 / 0.25              | Sharpe 几乎决定一切 |
| 可转债（偏进攻）       | B/A 过渡 | 0.30 / 0.30 / 0.20 / 0.20              | 股性 + 风控       |
| 商品（单一品种）       | D 分散   | 0.30 / 0.30 / 0.20 / 0.20              | 防单边赌方向        |
| CTA / 管理期货     | D 分散   | 0.25 / 0.35 / 0.20 / 0.20              | 稳定性优先         |
| 另类对冲 / 绝对收益    | D 分散   | 0.20 / 0.40 / 0.20 / 0.20              | 夏普最重要         |

> 你可以根据你们真实的 16 策略名称做 1:1 映射，这个结构不变。

---

# 五、这套设计为什么适配 Core–Satellite / BL / 风险平价

### Core–Satellite

* A 类 → Satellite 候选（高预期收益）
* B/C 类 → Core 候选（稳健底仓）
* 过滤阶段已经做了“风险语义分层”

### Black–Litterman（BL）

* z-score 是 **相对优势刻画**
* BL 的 views 更容易写成：
  “策略 A 中，z_score 前 20% 优于基准”

### 风险平价（Risk Parity）

* C/B 类经过回撤与波动约束 → 低风险资产更“干净”
* 避免 RP 被“假低波 / 假稳定”产品误导

---

# 六、你现在可以直接落地的做法（总结）

1. **每个一级策略 → 映射到 A/B/C/D**
2. **策略内算 z_return / z_sharpe / z_vol / z_dd**
3. **按表中权重算 Score**
4. **用 Score 排序 + 闸门过滤**
5. **输出股票型 / 固收型 / 通用产品池 CSV**

---

如果你愿意，下一步我可以直接帮你做两件之一（都非常自然）：

1. **把上面这张表转成 Python dict / YAML 配置文件**
2. **在你现有股票过滤脚本上，升级成“16 策略自动套模板”的通用引擎**

你一句话就行。
