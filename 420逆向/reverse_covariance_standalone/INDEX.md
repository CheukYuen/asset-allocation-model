# 目录索引 | Directory Index

## 📁 文件结构

```
reverse_covariance_standalone/
│
├── 📄 reverse_covariance.py          # 核心算法脚本 (可直接运行)
├── 📊 105.csv                        # 输入数据: 105个投资组合配置
│
├── 📖 README.md                      # 快速入门指南
├── 📖 USAGE.md                       # 详细使用手册
├── 📖 数据原理解释.md                 # 完整数学原理推导
├── 📖 INDEX.md                       # 本文档 (目录索引)
│
└── 📈 输出文件 (运行脚本后自动生成):
    ├── reverse_covariance_matrix.csv      # 4×4 协方差矩阵
    ├── reverse_correlation_matrix.csv     # 4×4 相关系数矩阵
    ├── reverse_volatility.csv             # 各资产波动率
    └── reverse_portfolio_volatility.csv   # 105个组合的重构结果
```

---

## 📚 文档导航

### 🚀 新手入门

**第一次使用？从这里开始**：

1. **[README.md](README.md)** - 快速了解项目
   - 项目简介
   - 快速开始 (安装 → 运行 → 查看结果)
   - 典型输出示例
   - 常见问题 FAQ

**预计阅读时间**: 5 分钟

---

### 📘 详细使用

**需要详细的操作指南？**

2. **[USAGE.md](USAGE.md)** - 完整使用手册
   - 环境要求和安装步骤
   - 输入数据格式详解
   - 核心算法简介
   - 输出结果详细解读
   - 高级用法 (修改参数、添加约束)
   - 常见问题排查
   - 技术细节说明

**预计阅读时间**: 20 分钟

---

### 🔬 数学原理

**想深入了解算法背后的数学？**

3. **[数据原理解释.md](数据原理解释.md)** - 数学原理推导
   - 问题背景 (经典 vs 逆向问题)
   - 数学建模 (线性化、优化目标)
   - 求解方法 (正规方程、数值稳定性)
   - 算法实现 (完整代码解析)
   - 结果解读 (经济学意义)
   - 扩展阅读 (理论基础、优化技巧)

**预计阅读时间**: 40 分钟

---

## 🎯 快速查找

### 按任务查找

| 你想做什么？ | 查看哪个文档？ | 章节 |
|------------|--------------|------|
| **快速运行脚本** | README.md | 快速开始 |
| **理解输出文件** | USAGE.md | 输出结果解读 |
| **修改风险等级映射** | USAGE.md | 高级用法 → 修改风险等级映射 |
| **理解为什么现金波动率高** | USAGE.md | 常见问题 → Q1 |
| **了解算法原理** | 数据原理解释.md | 数学建模 |
| **验证结果正确性** | USAGE.md | 常见问题 → Q4 |
| **添加约束条件** | USAGE.md | 高级用法 → 添加约束条件 |
| **理解协方差矩阵的意义** | 数据原理解释.md | 结果解读 |
| **排查错误** | USAGE.md | 常见问题 |

---

### 按知识点查找

| 知识点 | 文档位置 |
|--------|---------|
| **什么是逆向协方差估计？** | README.md (简介) + 数据原理解释.md (问题背景) |
| **输入数据格式** | USAGE.md (输入数据格式) |
| **风险等级映射 (C1~C5)** | USAGE.md (输入数据格式) |
| **协方差矩阵的定义** | 数据原理解释.md (数学建模 → 核心公式) |
| **为什么是10个参数？** | 数据原理解释.md (数学建模 → 协方差矩阵的对称性) |
| **最小二乘法原理** | 数据原理解释.md (求解方法 → 正规方程) |
| **半正定性检验** | 数据原理解释.md (求解方法 → 半正定性检验) |
| **相关系数矩阵计算** | USAGE.md (输出结果解读 → 相关系数矩阵) |
| **行顺序是否影响结果？** | USAGE.md (常见问题 → Q3) |
| **如何验证结果？** | USAGE.md (常见问题 → Q4) |
| **数值稳定性保障** | 数据原理解释.md (求解方法 → 数值稳定性) |

---

## 📊 输入/输出文件说明

### 输入文件

#### `105.csv`
**格式**:
```csv
组合ID,用户标签,风险偏好,风险等级,现金%,债券%,股票%,另类%
5,刚毕业,保值,C5,15,25,50,10
```

**关键列**:
- **风险等级** (列4): C1, C2, C3, C4, C5
- **资产权重** (列5-8): 现金, 债券, 股票, 另类 (百分比)

**详细说明**: 见 [USAGE.md → 输入数据格式](USAGE.md#输入数据格式)

---

### 输出文件

#### 1. `reverse_covariance_matrix.csv`
**4×4 协方差矩阵**

示例:
```csv
,现金,债券,股票,另类
现金,0.35341986,-0.15606425,-0.43956690,-0.12240126
债券,-0.15606425,0.07858870,0.22737436,0.07664437
...
```

**解读**: 见 [USAGE.md → 协方差矩阵](USAGE.md#1-协方差矩阵-reverse_covariance_matrixcsv)

---

#### 2. `reverse_correlation_matrix.csv`
**4×4 相关系数矩阵** (标准化后的协方差)

示例:
```csv
,现金,债券,股票,另类
现金,1.00000000,-0.93664742,-0.88276847,-0.58957346
```

**解读**: 见 [USAGE.md → 相关系数矩阵](USAGE.md#2-相关系数矩阵-reverse_correlation_matrixcsv)

---

#### 3. `reverse_volatility.csv`
**各资产的波动率** (标准差)

示例:
```csv
资产类别,波动率
现金,0.59449476
债券,0.28033629
股票,0.83717545
另类,0.34899084
```

**解读**: 见 [USAGE.md → 各资产波动率](USAGE.md#3-各资产波动率-reverse_volatilitycsv)

---

#### 4. `reverse_portfolio_volatility.csv`
**105个组合的重构结果** (验证精度)

示例:
```csv
组合ID,目标波动率,重构波动率,误差,权重_现金,权重_债券,权重_股票,权重_另类
5,0.1500,0.1458,-0.0042,0.15,0.25,0.50,0.10
```

**解读**: 见 [USAGE.md → 组合重构波动率](USAGE.md#4-组合重构波动率-reverse_portfolio_volatilitycsv)

---

## 🔧 运行脚本

### 最简单的方式

```bash
# 1. 进入目录
cd reverse_covariance_standalone

# 2. 运行脚本
python reverse_covariance.py

# 3. 查看输出
ls -lh reverse_*.csv
```

### 详细步骤

见 [README.md → 快速开始](README.md#快速开始)

---

## ❓ 常见问题快速索引

| 问题 | 答案位置 |
|------|---------|
| 为什么现金波动率这么高？ | USAGE.md → 常见问题 → Q1 |
| 行顺序会影响结果吗？ | USAGE.md → 常见问题 → Q3 |
| 如何验证结果正确性？ | USAGE.md → 常见问题 → Q4 |
| 如何修改风险等级映射？ | USAGE.md → 高级用法 → 修改风险等级映射 |
| 如何添加约束条件？ | USAGE.md → 高级用法 → 添加约束条件 |
| 为什么用最小二乘而不是优化？ | 数据原理解释.md → 常见问题 → Q1 |
| 如何处理不满足半正定的结果？ | 数据原理解释.md → 常见问题 → Q3 |
| 105个组合够吗？会过拟合吗？ | 数据原理解释.md → 常见问题 → Q4 |

---

## 🎓 学习路径推荐

### 初学者路径
```
1. README.md (5分钟)
   ↓
2. 运行脚本，查看输出文件
   ↓
3. USAGE.md → 输出结果解读 (10分钟)
   ↓
4. USAGE.md → 常见问题 (5分钟)
```

---

### 进阶用户路径
```
1. USAGE.md (完整阅读，20分钟)
   ↓
2. 修改参数，重新运行
   ↓
3. 数据原理解释.md → 算法实现 (15分钟)
   ↓
4. 数据原理解释.md → 结果解读 (10分钟)
```

---

### 研究人员路径
```
1. 数据原理解释.md (完整阅读，40分钟)
   ↓
2. 推导正规方程
   ↓
3. 阅读源代码 reverse_covariance.py
   ↓
4. 尝试添加约束 (USAGE.md → 高级用法)
   ↓
5. 扩展到更多资产类别
```

---

## 📞 获取帮助

### 文档内查找
1. 先查看 [常见问题快速索引](#常见问题快速索引)
2. 使用 Ctrl+F / Cmd+F 搜索关键词
3. 按任务查找表格快速定位

### 外部资源
- **GitHub Issues**: [项目仓库问题反馈]
- **相关论文**: 见 [数据原理解释.md → 扩展阅读](数据原理解释.md#扩展阅读)

---

## 📅 文档更新

- **v1.0** (2026-01-23)
  - 初始版本
  - 完整的三层文档体系
  - 算法实现和验证

---

## 📜 引用格式

如果在论文或项目中使用此工具，请引用：

```bibtex
@software{reverse_covariance_2026,
  title = {Reverse Covariance Matrix Estimation Tool},
  author = {Asset Allocation Model Project},
  year = {2026},
  version = {1.0},
  url = {https://github.com/...}
}
```

---

**返回**: [README.md](README.md) | [USAGE.md](USAGE.md) | [数据原理解释.md](数据原理解释.md)
